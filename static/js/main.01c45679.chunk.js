(this["webpackJsonpreact-first-project"]=this["webpackJsonpreact-first-project"]||[]).push([[0],{129:function(e,t,a){e.exports={content:"Profile_content__346sz",item:"Profile_item__1v7UX"}},130:function(e,t,a){e.exports={content:"ProfileInfo_content__3EeHd",item:"ProfileInfo_item__oeRZo"}},131:function(e,t,a){e.exports={item:"MyPosts_item__1cnv4"}},14:function(e,t,a){e.exports={nav:"Nav_nav__2bLyr",item:"Nav_item__1_qcO",active:"Nav_active__TqTj0"}},158:function(e,t,a){e.exports=a(285)},160:function(e,t,a){},165:function(e,t,a){},20:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__3TEO_",dialogItems:"Dialogs_dialogItems__1S5vk",messageItems:"Dialogs_messageItems__1oxPb",dialog:"Dialogs_dialog__HCdx1",active:"Dialogs_active__1xIh7",message:"Dialogs_message__2citk",inputMessage:"Dialogs_inputMessage__1l5uN"}},285:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n);a(160),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(63),s=a.n(o),i=(a(164),a(25)),c=a(26),u=a(28),l=a(27),m=(a(165),a(14)),p=a.n(m),f=a(12),g=function(){return r.a.createElement("nav",{className:p.a.nav},r.a.createElement("div",{className:p.a.item},r.a.createElement(f.b,{to:"/profile/",activeClassName:p.a.active},"Profile")),r.a.createElement("div",{className:p.a.item},r.a.createElement(f.b,{to:"/dialogs",activeClassName:p.a.active},"Messages")),r.a.createElement("div",{className:p.a.item},r.a.createElement(f.b,{to:"/news",activeClassName:p.a.active},"News")),r.a.createElement("div",{className:p.a.item},r.a.createElement(f.b,{to:"/music",activeClassName:p.a.active},"Music")),r.a.createElement("div",{className:p.a.item},r.a.createElement(f.b,{to:"/users",activeClassName:p.a.active},"Find users")),r.a.createElement("div",{className:p.a.item},r.a.createElement(f.b,{to:"/settings",activeClassName:p.a.active},"Settings")),r.a.createElement("div",{className:p.a.friendsMenu}))},d=function(e){return r.a.createElement("div",null,"News")},h=function(e){return r.a.createElement("div",null,"Settings")},E=a(10),v=a(43),b=a(4),O=5,P={messages:[{id:1,message:"Hi"},{id:2,message:"How are you?"},{id:3,message:"I'm OK",style:{background:"#1c607d",marginLeft:"20%"}},{id:4,message:"How about you?",style:{background:"#1c607d",marginLeft:"20%"}}],dialogs:[{id:1,name:"Igor",avatar:"https://cs16planet.ru/steam-avatars/images/avatar2700.jpg"},{id:2,name:"Nikita",avatar:"https://cs16planet.ru/steam-avatars/images/avatar2506.jpg"},{id:3,name:"Anton",avatar:"https://cs16planet.ru/steam-avatars/images/avatar3317.jpg"},{id:4,name:"Andrey",avatar:"https://cs16planet.ru/steam-avatars/images/avatar2672.jpg"},{id:5,name:"Yuli",avatar:"https://cs16planet.ru/steam-avatars/images/avatar3171.jpg"},{id:6,name:"Vlad",avatar:"https://cs16planet.ru/steam-avatars/images/avatar2812.jpg"}]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":return Object(b.a)(Object(b.a)({},e),{},{messages:[].concat(Object(v.a)(e.messages),[{id:O++,message:t.newMessageBody}])});default:return e}},j=a(20),w=a.n(j),S=function(e){return r.a.createElement("div",{className:w.a.dialog+" "+w.a.active},r.a.createElement(f.b,{to:"/dialogs/"+e.id,activeClassName:w.a.active},r.a.createElement("div",null,r.a.createElement("img",{src:e.avatar})),r.a.createElement("div",null,e.name)))},y=function(e){return r.a.createElement("div",{style:e.style,className:w.a.message},e.messageText)},C=a(123),N=a(31),k=a(124),I=a(44),T=a(86),A=a.n(T),U=function(e){e.input;var t=e.meta,a=(e.child,Object(I.a)(e,["input","meta","child"])),n=t.touched&&t.error;return r.a.createElement("div",{className:A.a.formControl+" "+(n?A.a.error:"")},a.children,n&&r.a.createElement("span",null,t.error))},x=function(e){var t=e.input,a=(e.meta,Object(I.a)(e,["input","meta"]));return r.a.createElement(U,e,r.a.createElement("textarea",Object.assign({},t,a)))},L=function(e){var t=e.input,a=(e.meta,Object(I.a)(e,["input","meta"]));return r.a.createElement(U,e,r.a.createElement("input",Object.assign({},t,a)))},F=function(e){if(!e)return"Field is required"},M=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},z=function(e){return function(t){if(t&&t.length<e)return"Min length is ".concat(e," symbols")}},R=M(30),D=Object(k.a)({form:"dialogAddMessageForm",onSubmitSuccess:function(e,t){t(Object(N.a)("dialogAddMessageForm"))}})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:w.a.inputMessage},r.a.createElement("div",null,r.a.createElement(C.a,{className:"form-control","aria-label":"With textarea",placeholder:"Enter your message",name:"newMessageBody",component:x,validate:[F,R]})),r.a.createElement("button",{className:"btn btn-info"},"Send")))})),G=function(e){var t=e.messagesPage.dialogs.map((function(e){return r.a.createElement(S,{name:e.name,key:e.id,id:e.id,avatar:e.avatar})})),a=e.messagesPage.messages.map((function(e){return r.a.createElement(y,{messageText:e.message,key:e.id,style:e.style})}));return r.a.createElement("div",{className:w.a.dialogs},r.a.createElement("div",{className:w.a.dialogItems},t),r.a.createElement("div",{className:w.a.messageItems},r.a.createElement("div",null,a),r.a.createElement(D,{onSubmit:function(t){void 0!==t.newMessageBody&&e.sendMessage(t.newMessageBody)}})))},B=a(11),H=function(e){return{isAuth:e.auth.isAuth}},W=a(6),V=Object(W.d)(Object(B.b)((function(e){return{messagesPage:e.messagesPage}}),{sendMessage:function(e){return{type:"SEND-MESSAGE",newMessageBody:e}}}),(function(e){var t=function(t){Object(u.a)(n,t);var a=Object(l.a)(n);function n(){return Object(i.a)(this,n),a.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(E.a,{to:"/login"})}}]),n}(r.a.Component);return Object(B.b)(H)(t)}))(G),X=a(9),J=a.n(X),K=a(17),Y=a(128).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"4dec96cf-2611-4c7e-a9ec-2d74ac2d0fc0"}}),Z=function(e,t){return Y.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},q=function(e){return Y.post("follow/".concat(e),{}).then((function(e){return e.data}))},$=function(e){return Y.delete("follow/".concat(e)).then((function(e){return e.data}))},Q=function(e){return Y.get("profile/".concat(e)).then((function(e){return e.data}))},ee=function(e){return Y.get("profile/status/".concat(e)).then((function(e){return e.data}))},te=function(e){return Y.put("profile/status",{status:e}).then((function(e){return e.data}))},ae=function(){return Y.get("auth/me").then((function(e){return e.data}))},ne=function(e){return Y.get("profile/".concat(e)).then((function(e){return e.data}))},re=function(e,t,a){return Y.post("auth/login",{email:e,password:t,rememberMe:a}).then((function(e){return e.data}))},oe=function(){return Y.delete("auth/login").then((function(e){return e.data}))},se=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(b.a)(Object(b.a)({},e),n):e}))},ie={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[],paginatorPage:1},ce=function(e){return{type:"FOLLOW",userId:e}},ue=function(e){return{type:"UNFOLLOW",userId:e}},le=function(e){return{type:"SET-USERS",users:e}},me=function(e){return{type:"SET-TOTAL-USERS-COUNT",totalCount:e}},pe=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},fe=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},ge=function(){var e=Object(K.a)(J.a.mark((function e(t,a,n,r){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(fe(!0,t)),e.next=3,n(t);case 3:0==e.sent.resultCode&&a(r(t)),a(fe(!1,t));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(b.a)(Object(b.a)({},e),{},{users:se(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(b.a)(Object(b.a)({},e),{},{users:se(e.users,t.userId,"id",{followed:!1})});case"SET-USERS":return Object(b.a)(Object(b.a)({},e),{},{users:t.users});case"SET-CURRENT-PAGE":return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.currentPage});case"SET_PAGINATOR_PAGE":return Object(b.a)(Object(b.a)({},e),{},{paginatorPage:t.currentPaginatorPage});case"SET-TOTAL-USERS-COUNT":return Object(b.a)(Object(b.a)({},e),{},{totalUsersCount:t.totalCount});case"TOGGLE_IS_FETCHING":return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(b.a)(Object(b.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(v.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},he=a(34),Ee=a.n(he),ve=function(e){for(var t=e.totalItemsCount,a=e.pageSize,n=e.currentPage,o=void 0===n?1:n,s=e.onPageChanged,i=e.portionSize,c=void 0===i?30:i,u=e.paginatorPage,l=void 0===u?1:u,m=e.setPaginatorPage,p=Math.ceil(t/a),f=[],g=1;g<=p;g++)f.push(g);var d=Math.ceil(p/c),h=(l-1)*c+1,E=l*c;return r.a.createElement("div",{className:Ee.a.pagesCount},l>1&&r.a.createElement("button",{onClick:function(){m(l-1)}},"PREV"),f.filter((function(e){return e>=h&&e<=E})).map((function(e){return r.a.createElement("span",{key:e,className:o===e?Ee.a.selectedPage:Ee.a,onClick:function(){s(e)}}," ",e)})),d>l&&r.a.createElement("button",{onClick:function(){m(l+1)}},"NEXT"))},be=function(e){return r.a.createElement("div",{className:Ee.a.card},r.a.createElement("div",{className:Ee.a.picture},r.a.createElement(f.b,{to:"/profile/"+e.user.id},r.a.createElement("img",{src:null!=e.user.photos.small?e.user.photos.small:"https://cs16planet.ru/steam-avatars/images/avatar449.jpg"})),r.a.createElement("div",null,e.user.followed?r.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){e.unfollowThunk(e.user.id)}},"unfollow"):r.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){e.followThunk(e.user.id)}},"follow"))),r.a.createElement("div",null,r.a.createElement("div",{className:Ee.a.discription},r.a.createElement("div",null,e.user.name),r.a.createElement("div",null,e.user.status))))},Oe=function(e){return r.a.createElement("div",{className:"spinner-border text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))},Pe=function(e){var t=e.totalUsersCount,a=e.pageSize,n=e.currentPage,o=e.onPageChanged,s=e.users,i=e.setPaginatorPage,c=e.paginatorPage,u=Object(I.a)(e,["totalUsersCount","pageSize","currentPage","onPageChanged","users","setPaginatorPage","paginatorPage"]);return r.a.createElement("div",null,r.a.createElement(ve,{totalItemsCount:t,pageSize:a,currentPage:n,onPageChanged:o,setPaginatorPage:i,paginatorPage:c}),r.a.createElement("div",null,u.isFetching?r.a.createElement(Oe,null):s.map((function(e){return r.a.createElement(be,{user:e,followingInProgress:u.followingInProgress,key:e.id,unfollow:u.unfollow,follow:u.follow})}))))},_e=function(e){return e.usersPage.users},je=function(e){return e.usersPage.pageSize},we=function(e){return e.usersPage.paginatorPage},Se=function(e){return e.usersPage.totalUsersCount},ye=function(e){return e.usersPage.currentPage},Ce=function(e){return e.usersPage.isFetching},Ne=function(e){return e.usersPage.followingInProgress},ke=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize),e.props.setCurrentPage(t)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,portionSize:this.props.portionSize,currentPage:this.props.currentPage,paginatorPage:this.props.paginatorPage,onPageChanged:this.onPageChanged,setPaginatorPage:this.props.setPaginatorPage,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress,followThunk:this.props.followThunk,unfollowThunk:this.props.unfollowThunk,isFetching:this.props.isFetching}),")}")}}]),a}(r.a.Component),Ie=Object(W.d)(Object(B.b)((function(e){return{users:_e(e),pageSize:je(e),totalUsersCount:Se(e),currentPage:ye(e),isFetching:Ce(e),followingInProgress:Ne(e),paginatorPage:we(e)}}),{follow:ce,unfollow:ue,setUsers:le,setCurrentPage:function(e){return{type:"SET-CURRENT-PAGE",currentPage:e}},setPaginatorPage:function(e){return{type:"SET_PAGINATOR_PAGE",currentPaginatorPage:e}},setTotalUsersCount:me,toggleIsFetching:pe,toggleIsFollowingProgress:fe,getUsers:function(e,t){return function(){var a=Object(K.a)(J.a.mark((function a(n){var r;return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(pe(!0)),a.next=3,Z(e,t);case 3:r=a.sent,n(pe(!1)),n(le(r.items)),n(me(r.totalCount));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},followThunk:function(e){return function(t){ge(e,t,q,ce)}},unfollowThunk:function(e){return function(t){ge(e,t,$,ue)}}}))(ke),Te=a(90),Ae=a.n(Te),Ue={id:null,login:null,email:null,isAuth:!1,profileAvatar:!1,profileAvatarPath:null},xe=function(e,t,a,n){return{type:"SET_USER_DATA",payload:{id:e,email:t,login:a,isAuth:n}}},Le=function(e){return{type:"SET_PROFILE_AVATAR",profileAvatarPath:e}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(b.a)(Object(b.a)({},e),t.payload);case"SET_PROFILE_AVATAR":return Object(b.a)(Object(b.a)({},e),{},{profileAvatarPath:t.profileAvatarPath,profileAvatar:!0});case"LOGIN_IS_TRUE":return Object(b.a)(Object(b.a)({},e),{},{isAuth:!0});default:return e}},Me=function(){return function(){var e=Object(K.a)(J.a.mark((function e(t){var a,n,r,o,s;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae();case 2:0===(a=e.sent).resultCode&&(n=a.data,r=n.id,o=n.email,s=n.login,t(xe(r,o,s,!0)),ne(r).then((function(e){t(Le(e.photos.small))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ze=z(3),Re=Object(k.a)({form:"login"})((function(e){var t=e.handleSubmit,a=e.error;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,r.a.createElement(C.a,{placeholder:"Login",name:"email",component:L,validate:[F,ze]})),r.a.createElement("div",null,r.a.createElement(C.a,{placeholder:"Password",name:"password",type:"password",component:L,validate:[F,ze]})),r.a.createElement("div",null,r.a.createElement(C.a,{type:"checkbox",name:"rememberMe",component:L}),"remember me"),a&&r.a.createElement("div",{className:Ae.a.formSummaryError},a),r.a.createElement("div",null,r.a.createElement("button",null,"Log in")))})),De=Object(B.b)((function(e){return{isAuth:e.auth.isAuth}}),{loginThunkCreator:function(e,t,a){return function(){var n=Object(K.a)(J.a.mark((function n(r){var o,s;return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,re(e,t,a);case 2:0===(o=n.sent).resultCode?r(Me()):(s=o.messages.length>0?o.messages[0]:"Common wrong",r(Object(N.b)("login",{_error:s})));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){return e.isAuth?r.a.createElement(E.a,{to:"profile"}):r.a.createElement("div",{className:Ae.a.loginForm},r.a.createElement("h1",null,"Login"),r.a.createElement(Re,{onSubmit:function(t){var a=t.email,n=t.password,r=t.rememberMe;e.loginThunkCreator(a,n,r)}}))})),Ge=a(129),Be=a.n(Ge),He=a(130),We=a.n(He),Ve=a(92),Xe=function(e){var t=Object(n.useState)(e.status),a=Object(Ve.a)(t,2),o=a[0],s=a[1],i=Object(n.useState)(!1),c=Object(Ve.a)(i,2),u=c[0],l=c[1];Object(n.useEffect)((function(){s(e.status)}),[e.status]);return r.a.createElement("div",null,u?r.a.createElement("div",null,r.a.createElement("input",{autoFocus:!0,onBlur:function(){l(!1),e.updateStatus(o)},value:o,onChange:function(e){s(e.currentTarget.value)}})):r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:function(){l(!0)}},e.status||"-----"," ")))},Je=function(e){return e.profile?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{src:"/images/main_image.png"})),r.a.createElement("div",{className:We.a.item},r.a.createElement("div",null,r.a.createElement("img",{src:e.profile.photos.large?e.profile.photos.large:"https://cs16planet.ru/steam-avatars/images/avatar449.jpg"})),r.a.createElement("div",null,e.profile.fullName),r.a.createElement(Xe,{status:e.status,updateStatus:e.updateStatus}))):r.a.createElement(Oe,null)},Ke=a(131),Ye=a.n(Ke),Ze=a(91),qe=a.n(Ze),$e=function(e){return r.a.createElement("div",{className:qe.a.item},e.postText,r.a.createElement("div",{className:qe.a.like},"like ",e.likes))},Qe=M(30),et=z(3),tt=Object(k.a)({form:"profileNewPostForm",onSubmitSuccess:function(e,t){t(Object(N.a)("profileNewPostForm"))}})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(C.a,{className:"form-control","aria-label":"With textarea",placeholder:"Enter your post",name:"newPostBody",component:x,validate:[F,Qe,et]}),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-info"},"add post")))})),at=r.a.memo((function(e){console.log("render");var t=e.posts.map((function(e){return r.a.createElement($e,{postText:e.post,key:e.id,likes:e.likesCount})}));return r.a.createElement("div",{className:Ye.a.item},r.a.createElement("h3",null,"My posts"),r.a.createElement(tt,{onSubmit:function(t){e.addPost(t.newPostBody)}}),r.a.createElement("div",null,"New posts"),t)})),nt=5,rt={posts:[{id:1,post:"hello",likesCount:10},{id:2,post:"how are you?",likesCount:15},{id:3,post:"it's very nice",likesCount:5}],newPostText:"",profile:null,status:""},ot=function(e){return{type:"SET_USER_PROFILE",profile:e}},st=function(e){return{type:"GET_STATUS",status:e}},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(b.a)(Object(b.a)({},e),{},{posts:[].concat(Object(v.a)(e.posts),[{id:nt++,post:t.newPostBody,likesCount:0}])});case"SET_USER_PROFILE":return Object(b.a)(Object(b.a)({},e),{},{profile:t.profile});case"GET_STATUS":return Object(b.a)(Object(b.a)({},e),{},{status:t.status});default:return e}},ct=Object(B.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:function(e){return{type:"ADD-POST",newPostBody:e}}})(at),ut=function(e){return r.a.createElement("div",{className:Be.a.content},r.a.createElement(Je,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),r.a.createElement(ct,null))},lt=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.props.getProfile(this.props.authorizedUserId),this.props.authorizedUserId!==e.authorizedUserId&&this.props.getProfile(this.props.authorizedUserId)}},{key:"render",value:function(){return r.a.createElement(ut,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),a}(r.a.Component),mt=Object(W.d)(Object(B.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{setUserProfile:ot,getProfile:function(e){return function(){var t=Object(K.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=5;break}return t.next=3,Q(e);case 3:n=t.sent,a(ot(n));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(K.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=5;break}return t.next=3,ee(e);case 3:n=t.sent,a(st(n));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(K.a)(J.a.mark((function t(a){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:0===te(e).resultCode&&a(st(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),E.f)(lt),pt=a(54),ft=a.n(pt),gt=function(e){return r.a.createElement("header",{className:ft.a.header},r.a.createElement("div",{className:ft.a.logo},r.a.createElement("a",{href:"/profile"},r.a.createElement("h1",null,r.a.createElement("img",{src:"/images/logo.png"})," MySocialNetwork"))),e.isAuth?e.profileAvatar?r.a.createElement("div",{className:ft.a.loginContainer},r.a.createElement("img",{src:e.profileAvatarPath?e.profileAvatarPath:"https://cs16planet.ru/steam-avatars/images/avatar449.jpg"}),r.a.createElement("div",{className:ft.a.logOutButton},r.a.createElement("button",{onClick:e.logoutThunkCreator},"Logout"))):r.a.createElement(Oe,null):r.a.createElement(f.b,{to:"/login"},r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-key",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M0 8a4 4 0 0 1 7.465-2H14a.5.5 0 0 1 .354.146l1.5 1.5a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0L13 9.207l-.646.647a.5.5 0 0 1-.708 0L11 9.207l-.646.647a.5.5 0 0 1-.708 0L9 9.207l-.646.647A.5.5 0 0 1 8 10h-.535A4 4 0 0 1 0 8zm4-3a3 3 0 1 0 2.712 4.285A.5.5 0 0 1 7.163 9h.63l.853-.854a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.793-.793-1-1h-6.63a.5.5 0 0 1-.451-.285A3 3 0 0 0 4 5z"}),r.a.createElement("path",{d:"M4 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"}))))},dt=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.authThunk()}},{key:"render",value:function(){return r.a.createElement(gt,this.props)}}]),a}(r.a.Component),ht=Object(B.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,profileAvatar:e.auth.profileAvatar,profileAvatarPath:e.auth.profileAvatarPath}}),{setAuthUserData:xe,setProfileAvatar:Le,authThunk:Me,logoutThunkCreator:function(){return function(){var e=Object(K.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:0===e.sent.resultCode&&t(xe(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(dt),Et={initialized:!1},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{initialized:!0});default:return e}},bt=a(132),Ot=a(125),Pt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||W.d,_t=Object(W.c)({profilePage:it,messagesPage:_,usersPage:de,auth:Fe,form:Ot.a,app:vt}),jt=Object(W.e)(_t,Pt(Object(W.a)(bt.a)));window.store=jt;var wt=jt,St=r.a.lazy((function(){return a.e(3).then(a.bind(null,286))})),yt=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement(f.a,{basename:"/mySocialNetwork"},r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(ht,null),r.a.createElement(g,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(E.b,{exact:!0,path:"/",render:function(){return r.a.createElement(mt,null)}}),r.a.createElement(E.b,{exact:!0,path:"/profile/:userId?",render:function(){return r.a.createElement(mt,null)}}),r.a.createElement(E.b,{path:"/dialogs",render:function(){return r.a.createElement(V,null)}}),r.a.createElement(E.b,{path:"/news",component:d}),r.a.createElement(n.Suspense,{fallback:r.a.createElement(Oe,null)},r.a.createElement(E.b,{path:"/music",component:St})),r.a.createElement(E.b,{path:"/users",render:function(){return r.a.createElement(Ie,null)}}),r.a.createElement(E.b,{path:"/settings",component:h}),r.a.createElement(E.b,{path:"/login",render:function(){return r.a.createElement(De,null)}})))):r.a.createElement(Oe,null)}}]),a}(r.a.Component),Ct=Object(W.d)(E.f,Object(B.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(K.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Me());case 2:t({type:"INITIALIZED_SUCCESS"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(yt),Nt=function(){return r.a.createElement(f.a,null,r.a.createElement(B.a,{store:wt},r.a.createElement(Ct,null)))};s.a.render(r.a.createElement(Nt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,t,a){e.exports={card:"Users_card__2Abjk",picture:"Users_picture__o9d66",discription:"Users_discription__2KkKE",pagesCount:"Users_pagesCount__1iUsV",selectedPage:"Users_selectedPage__1L1yN"}},54:function(e,t,a){e.exports={header:"Header_header__1WuYJ",logo:"Header_logo__1p7U2",loginContainer:"Header_loginContainer__2C6iz",logOutButton:"Header_logOutButton__10EXj"}},86:function(e,t,a){e.exports={formControl:"FormsControls_formControl__3t3Zo",error:"FormsControls_error__IDypI"}},90:function(e,t,a){e.exports={loginForm:"Login_loginForm__3YhRa",formSummaryError:"Login_formSummaryError__bFimJ"}},91:function(e,t,a){e.exports={item:"Post_item__2gUiT",like:"Post_like__F7VXP"}}},[[158,1,2]]]);
//# sourceMappingURL=main.01c45679.chunk.js.map